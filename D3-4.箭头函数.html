<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 目标:能够熟悉箭头函数不同写法
        // 目的:引入箭头函数的目的是更简短的函数写法并且不绑定this,箭头函数的语法比函数表达式更简洁 
        // 使用场景:箭头函数更适用于那些本来需要 匿名函数 的地方
        // 学习路径:
        // 1. 基本语法
        // 2. 箭头函数参数
        // 3. 箭头函数this

        // 只有一个形参时可以省略小括号
        // const fn = x =>{
        //     console.log(x)
        // }
        // fn(2)
        // 只有一行代码时可以省略大括号,还可以省略retun
        // const fn = x => x+x
        // console.log(fn(2))
        // 箭头函数可以直接返回一个对象,记得要加括号
        const fn = uname => ({uname:uname})
        
        console.log(fn('李昆泽'))
        // 写一个求和
        const fn1 = (...arr) =>{
            let sum = 0
            for(let i=0;i<arr.length;i++){
                sum += arr[i]
            }
            return sum
        }
        console.log(fn1(1,2,3,4,5))
        // 箭头函数this指向问题 谁调用这个函数，this就指向谁
        // window
        console.log(this) 
        // window
        // 普通函数
        function fnc(){
            console.log(this)
        }
        // 对象方法里的this 指向obj
        const obj = {
            name:'andy',
            sayHi:function(){
                console.log(this)
            }
        }
        obj.sayHi()
        // 箭头函数不会创建自己的this，只会从自己的作用域链的上一层沿用this
        // 这里是指funct函数里的局部作用域没有this，于是找他的上层作用域，就是全局的this
        const fnct = () =>{
            console.log(this)
        }
        fnct()
        // 对象方法箭头函数this指向
        // 这里sayhi没有this，找上一层作用域的this，obj的this指向window，所以是window
        const obj1 = {
            name:'lkz',
            sayHi:() =>{
                console.log(this)
            }
        }
        obj1.sayHi()

        const obj2 = { 
            uname: 'pink老师', 
            sayHi: function () { 
                    let i = 10 
                    const count = () => { 
                    console. log(this) // obj
                } 
                    count ()
            }
        }
        obj. sayHi ()
    </script>
</body>
</html>